<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personalised Stories - Bedtime Story Generator</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link href="https://fonts.googleapis.com/css2?family=Modak&display=swap" rel="stylesheet">
</head>

<body class="personalised-page">
  <div class="container">
    <!-- Header with hamburger menu -->
    <header class="classic-header">
      <div class="hamburger-menu" onclick="toggleMenu()">
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
        <div class="hamburger-line"></div>
      </div>
    </header>

    <!-- Navigation Menu -->
    <div class="nav-menu" id="navMenu">
      <div class="nav-close" onclick="toggleMenu()">
        <div class="close-icon">×</div>
      </div>
      <div class="nav-menu-content">
        <a href="/" class="nav-link">About Us</a>
        <a href="/classic" class="nav-link">Classic</a>
        <a href="/personalised" class="nav-link">Personalised</a>
      </div>
    </div>

    <!-- Page Title -->
    <div class="classic-title">
      <h1>Personalised Stories</h1>
    </div>

    <main class="personalised-container">
      <div class="story-generator">
        <h2>Choose Your Story Elements</h2>
        <p>Select keywords to create your unique bedtime story</p>

        <div class="child-name-section">
          <h3>What's your name?</h3>
          <div class="input-group">
            <input type="text" id="childName" placeholder="Enter your name..." maxlength="20">
          </div>
          <p class="name-hint">Your name will be the hero of the story! 🌟</p>
        </div>

        <div class="keywords-section">
          <h3>Popular Keywords</h3>
          <div class="keyword-chips">
            <button class="keyword-chip" data-keyword="dragon">🐉 Dragon</button>
            <button class="keyword-chip" data-keyword="princess">👸 Princess</button>
            <button class="keyword-chip" data-keyword="knight">⚔️ Knight</button>
            <button class="keyword-chip" data-keyword="forest">🌲 Forest</button>
            <button class="keyword-chip" data-keyword="castle">🏰 Castle</button>
            <button class="keyword-chip" data-keyword="magic">✨ Magic</button>
            <button class="keyword-chip" data-keyword="star">⭐ Star</button>
            <button class="keyword-chip" data-keyword="moon">🌙 Moon</button>
            <button class="keyword-chip" data-keyword="unicorn">🦄 Unicorn</button>
            <button class="keyword-chip" data-keyword="fairy">🧚 Fairy</button>
            <button class="keyword-chip" data-keyword="robot">🤖 Robot</button>
            <button class="keyword-chip" data-keyword="space">🚀 Space</button>
            <button class="keyword-chip" data-keyword="ocean">🌊 Ocean</button>
            <button class="keyword-chip" data-keyword="mountain">⛰️ Mountain</button>
            <button class="keyword-chip" data-keyword="garden">🌸 Garden</button>
          </div>
        </div>

        <div class="custom-keywords">
          <h3>Or Add Your Own</h3>
          <div class="input-group">
            <input type="text" id="customKeyword" placeholder="Enter a keyword...">
            <button id="addKeyword" class="btn btn-small">Add</button>
          </div>
        </div>

        <div class="selected-keywords">
          <h3>Selected Keywords</h3>
          <div id="selectedKeywords" class="selected-chips">
            <p class="empty-message">No keywords selected yet</p>
          </div>
        </div>

        <button id="generateStory" class="btn btn-primary" disabled>
          Generate My Story
        </button>
      </div>

      <div id="storyResult" class="story-result" style="display: none;">
        <h2>Your Personalised Story</h2>
        <div id="storyContent" class="story-content">
          <!-- Generated story will appear here -->
        </div>
        <div class="story-actions">
          <button id="readAloud" class="btn btn-secondary">
            🔊 Read to Me
          </button>
          <button id="newStory" class="btn btn-primary">
            Create Another Story
          </button>
        </div>
      </div>

      <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
        <p>Creating your magical story...</p>
      </div>
    </main>
  </div>

  <script src="{{ url_for('static', filename='js/personalised.js') }}"></script>
  <script>
    function toggleMenu() {
      const navMenu = document.getElementById('navMenu');
      navMenu.classList.toggle('nav-menu-open');
    }
  </script>
</body>

</html>